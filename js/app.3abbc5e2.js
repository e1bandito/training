(function(t){function e(e){for(var n,i,o=e[0],c=e[1],l=e[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(p.length)p.shift()();return a.push.apply(a,l||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(n=!1)}n&&(a.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},r={app:0},a=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/training/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0e80":function(t,e,s){},2837:function(t,e,s){},2990:function(t,e,s){"use strict";s("9181")},"350f":function(t,e,s){},3532:function(t,e,s){},4429:function(t,e,s){"use strict";s("350f")},4493:function(t,e,s){},5452:function(t,e,s){"use strict";s("af35")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=s("f40c"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("transition",{attrs:{name:"fade",appear:""}},[s("Header",{attrs:{action:t.action,count:t.count,errorsCount:t.errorsCount,firstFactor:t.firstFactor,state:t.state},on:{changeOpt:t.changeOpt,openModal:t.openModal}})],1),s("transition",{attrs:{name:"fade",appear:""}},[s("SelectAction",{attrs:{state:t.state},on:{sendAction:t.getAction}})],1),s("transition",{attrs:{name:"fade",appear:""}},[s("SelectAnswerType",{attrs:{state:t.state},on:{sendAnswerType:t.getAnswerType}})],1),s("transition",{attrs:{name:"fade",appear:""}},[s("SelectNumber",{attrs:{numbers:t.numbers,state:t.state},on:{setValue:t.setFirstFactorType}})],1),s("transition",{attrs:{name:"fade",appear:""}},[s("Expression",{attrs:{action:t.action,answerOptArr:t.answerOptArr,answerType:t.answerType,firstFactor:t.firstFactor,secondFactor:t.secondFactor,state:t.state},on:{sendAnswer:t.sendAnswer}})],1),s("transition",{attrs:{name:"fade",appear:""}},[s("Result",{attrs:{action:t.action,answer:t.answer,count:t.count,firstFactor:t.firstFactor,secondFactor:t.secondFactor,state:t.state,success:t.success},on:{getExpression:t.getExpression}})],1),s("ErrorModal",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],attrs:{showModal:t.showModal,"errors-array":t.errorsArray},on:{closeModal:t.closeModal}})],1)},i=[],o=(s("4160"),s("caad"),s("2532"),s("159b"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return"selectNumber"===t.state?s("div",{staticClass:"select-number"},[s("h2",{staticClass:"select-number__title"},[t._v("Выбери цифру, для тренировки")]),s("ul",{staticClass:"select-number__list"},t._l(t.numbers,(function(e,n){return s("li",{key:n,staticClass:"select-number__item",attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.setNum(e)},click:function(e){return t.setNum(e)}}},[t._v(" "+t._s(e.value)+" ")])})),0),s("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return t.setRnd()}}},[t._v("Случайная цифра")])]):t._e()}),c=[],l={name:"SelectNumber",props:{numbers:Array,state:{type:String,default:"default"}},data:function(){return{value:null}},methods:{setNum:function(t){this.$emit("setValue",+t.target.innerText)},setRnd:function(){this.$emit("setValue","random")}}},u=l,d=(s("c6ba"),s("2877")),p=Object(d["a"])(u,o,c,!1,null,null,null),h=p.exports,f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"action"===t.state?s("section",{staticClass:"select-action"},[s("div",{staticClass:"container"},[s("div",{staticClass:"select-action__inner"},[s("h2",{staticClass:"select-action__title"},[t._v("Выбери действие для тренировки")]),s("Btn",{class:"select-action__btn",attrs:{action:"multiple",text:"Умножение"},on:{clickBtn:t.clickBtn}}),s("Btn",{class:"select-action__btn",attrs:{action:"divide",text:"Деление"},on:{clickBtn:t.clickBtn}})],1)])]):t._e()},_=[],m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"btn",class:t.classes,on:{click:function(e){return t.clickBtn(t.action)}}},[t._v(" "+t._s(t.text)+" ")])},v=[],w={name:"Btn",props:{text:{type:String,default:"Я выбрал"},action:{type:String,default:""},classes:{type:String,default:""}},methods:{clickBtn:function(t){this.$emit("clickBtn",t)}}},b=w,g=(s("f692"),Object(d["a"])(b,m,v,!1,null,null,null)),y=g.exports,x={name:"SelectAction",components:{Btn:y},props:{state:{type:String,default:"default"}},methods:{clickBtn:function(t){this.$emit("sendAction",t)}}},C=x,F=(s("e5bd"),Object(d["a"])(C,f,_,!1,null,null,null)),A=F.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"expression"===t.state?s("section",{staticClass:"expression"},[s("div",{staticClass:"container"},[s("div",{staticClass:"expression__inner"},[s("h2",{staticClass:"expression__title"},[t._v("Сколько получится, если..")]),s("p",{staticClass:"expression__quest"},[t._v(" "+t._s(t.secondFactor)+" "+t._s(t.actionValue)+" "+t._s(t.firstFactor)+" = ? ")]),"list"===t.answerType?[s("h3",{staticClass:"expression__answer-title"},[t._v("Варианты ответов:")]),s("ul",{staticClass:"expression__list"},t._l(t.answerOptArr,(function(e,n){return s("li",{key:n,staticClass:"expression__item"},[s("Radio",{attrs:{item:e,index:n},on:{getValue:t.getValue}})],1)})),0)]:t._e(),"input"===t.answerType?[s("h3",{staticClass:"expression__answer-title"},[t._v("Введите ответ:")]),s("label",{staticClass:"expression__answer-label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.answer,expression:"answer"}],staticClass:"expression__answer-field",attrs:{type:"number"},domProps:{value:t.answer},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.inputKeydown(e)},input:function(e){e.target.composing||(t.answer=e.target.value)}}}),t.valid?t._e():s("span",{staticClass:"expression__answer-error-msg"},[t._v("error")])])]:t._e(),s("Btn",{attrs:{text:"Я выбрал!"},on:{clickBtn:t.clickBtn}})],2)])]):t._e()},O=[],B=(s("a9e3"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"radio"},[s("input",{staticClass:"radio__field visually-hidden",attrs:{type:"radio",name:"radio-answer",id:"radio-"+t.index},domProps:{value:t.item},on:{change:function(e){return t.getValue(t.item)}}}),s("label",{staticClass:"radio__label",attrs:{for:"radio-"+t.index}},[t._v(t._s(t.item))])])}),E=[],M={name:"Radio",props:{item:Number,index:Number},methods:{getValue:function(t){this.$emit("getValue",t)}}},N=M,S=(s("b746"),Object(d["a"])(N,B,E,!1,null,null,null)),T=S.exports,$={name:"Expression",components:{Radio:T,Btn:y},props:{firstFactor:Number,secondFactor:Number,action:String,state:String,answerOptArr:Array,answerType:String},data:function(){return{answer:null,valid:!0}},methods:{clickBtn:function(){var t=Number(this.answer);this.$emit("sendAnswer",t),this.answer=""},inputKeydown:function(){var t=Number(this.answer);this.$emit("sendAnswer",t),this.answer=""},getValue:function(t){this.answer=t}},computed:{actionValue:function(){var t;return t="multiple"===this.action?"*":"/",t}}},j=$,V=(s("f5e2"),Object(d["a"])(j,k,O,!1,null,null,null)),P=V.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"result"===t.state?s("section",{staticClass:"result"},[s("div",{staticClass:"container"},[s("div",{staticClass:"result__inner"},[t.success?s("p",{staticClass:"result__text result__text--success"},[t._v(" В ТОЧКУ! ")]):s("p",{staticClass:"result__text result__text--error"},[t._v("МИМО!")]),s("p",{staticClass:"result__exp-text"},[t._v("правильный ответ:")]),s("p",{staticClass:"result__exp-val"},[t._v(" "+t._s(t.secondFactor)+" "+t._s(t.actionValue)+" "+t._s(t.firstFactor)+" = "+t._s(t.answer)+" ")]),s("Counter",{attrs:{count:t.count,countText:"Очков набрано:"}}),s("Btn",{attrs:{text:"Дальше!",classes:"btn--result"},on:{clickBtn:t.clickBtn}})],1)])]):t._e()},H=[],L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"counter"},[t._v(" "+t._s(t.countText)+" "),s("span",{staticClass:"counter__val",class:t.count>0?"counter__val--hi":"counter__val--low"},[t._v(t._s(t.count))])])},J=[],K={name:"Counter",props:{count:Number,countText:String}},q=K,z=(s("4429"),Object(d["a"])(q,L,J,!1,null,null,null)),D=z.exports,G={name:"Result",components:{Counter:D,Btn:y},props:{firstFactor:Number,secondFactor:Number,state:String,action:String,answer:Number,success:Boolean,count:Number},methods:{clickBtn:function(){this.$emit("getExpression")}},computed:{actionValue:function(){var t;return t="multiple"===this.action?"*":"/",t}}},I=G,Q=(s("aada"),Object(d["a"])(I,R,H,!1,null,null,null)),U=Q.exports,W=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.headerVisible?s("header",{staticClass:"header"},[s("div",{staticClass:"container"},[s("div",{staticClass:"header__inner"},[s("div",{staticClass:"header__wrap"},[s("Counter",{attrs:{count:t.count,countText:"Очки:"}}),s("button",{staticClass:"header__errors",attrs:{type:"button"},on:{click:t.openModal}},[t._v(" Ашипки: "),s("span",{staticClass:"header__errors-value"},[t._v(t._s(t.errorsCount))])])],1),s("h1",{staticClass:"header__title"},[t._v(t._s(t.getAction)+" на "+t._s(t.firstFactor))]),s("Btn",{attrs:{text:"Изменить цифру/действие",classes:"header__btn"},on:{clickBtn:t.clickBtn}})],1)])]):t._e()},X=[],Y={name:"Header",components:{Btn:y,Counter:D},props:{count:Number,action:String,firstFactor:Number,state:String,errorsCount:Number},methods:{clickBtn:function(){this.$emit("changeOpt")},openModal:function(){this.$emit("openModal")}},computed:{getAction:function(){var t;return"multiple"===this.action&&(t="Умножаем"),"divide"===this.action&&(t="Делим"),t},headerVisible:function(){var t;return this.firstFactor&&this.action&&(t=!0),t}}},Z=Y,tt=(s("5452"),Object(d["a"])(Z,W,X,!1,null,null,null)),et=tt.exports;function st(t){t.sort((function(){return Math.random()-.5}))}function nt(t,e){return t*e}function rt(t,e){return t/e}function at(t,e){return Math.floor(Math.random()*(e-t+1)+t)}var it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return"answer"===t.state?s("section",{staticClass:"select-action"},[s("div",{staticClass:"container"},[s("div",{staticClass:"select-action__inner"},[s("h2",{staticClass:"select-action__title"},[t._v("Выбери формат ответа")]),s("Btn",{class:"select-action__btn",attrs:{action:"list",text:"Выбирать ответ"},on:{clickBtn:t.clickBtn}}),s("Btn",{class:"select-action__btn",attrs:{action:"input",text:"Вводить ответ"},on:{clickBtn:t.clickBtn}})],1)])]):t._e()},ot=[],ct={name:"SelectAnswerType",components:{Btn:y},props:{state:{type:String,default:"default"}},methods:{clickBtn:function(t){this.$emit("sendAnswerType",t)}}},lt=ct,ut=(s("2990"),Object(d["a"])(lt,it,ot,!1,null,null,null)),dt=ut.exports,pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("transition",{attrs:{name:"fade",appear:""}},[s("div",{directives:[{name:"scroll-lock",rawName:"v-scroll-lock",value:t.showModal,expression:"showModal"}],staticClass:"modal",on:{click:function(e){return e.target!==e.currentTarget?null:t.modalOverlayClick(e)}}},[s("div",{staticClass:"modal__inner"},[t.getErrors?t._e():s("h2",{staticClass:"modal__title"},[t._v(" Отлично, ошибок нет! ")]),t.getErrors?s("h2",{staticClass:"modal__title"},[t._v("Примеры с ошибками:")]):t._e(),t.getErrors?s("ul",{staticClass:"modal__list"},t._l(t.errorsArray,(function(e,n){return s("li",{key:n,staticClass:"modal__item"},[t._v(" "+t._s(e.firstNum)+" "+t._s(e.action)+" "+t._s(e.secondNum)+" = "),s("span",{staticClass:"modal__item-res"},[t._v(" "+t._s(e.result))])])})),0):t._e(),s("button",{staticClass:"modal__btn",attrs:{title:"close",type:"button","aria-label":"close"},on:{click:t.modalBtnClick}},[s("svg",{attrs:{height:"20",viewBox:"0 0 329.269 329",width:"20",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M194.8 164.77L323.013 36.555c8.343-8.34 8.343-21.825 0-30.164-8.34-8.34-21.825-8.34-30.164 0L164.633 134.605 36.422 6.391c-8.344-8.34-21.824-8.34-30.164 0-8.344 8.34-8.344 21.824 0 30.164l128.21 128.215L6.259 292.984c-8.344 8.34-8.344 21.825 0 30.164a21.266 21.266 0 0015.082 6.25c5.46 0 10.922-2.09 15.082-6.25l128.21-128.214 128.216 128.214a21.273 21.273 0 0015.082 6.25c5.46 0 10.922-2.09 15.082-6.25 8.343-8.34 8.343-21.824 0-30.164zm0 0"}})])])])])])},ht=[],ft={name:"ErrorModal",props:{errorsArray:Array,showModal:Boolean},data:function(){return{anyErrors:!1}},methods:{modalBtnClick:function(){this.$emit("closeModal")},modalOverlayClick:function(){this.$emit("closeModal")}},computed:{getErrors:function(){return this.errorsArray.length>0}}},_t=ft,mt=(s("d882"),Object(d["a"])(_t,pt,ht,!1,null,null,null)),vt=mt.exports,wt={name:"App",components:{ErrorModal:vt,Result:U,Expression:P,SelectAction:A,SelectNumber:h,Header:et,SelectAnswerType:dt},data:function(){return{firstFactor:null,firstFactorType:"random",secondFactor:null,answersArr:[],answerOptArr:[],prevFactors:[],count:0,errorsCount:0,errorsArray:[],numbers:[{value:2,selected:!1},{value:3,selected:!1},{value:4,selected:!1},{value:5,selected:!1},{value:6,selected:!1},{value:7,selected:!1},{value:8,selected:!1},{value:9,selected:!1}],state:"action",action:null,answer:null,answerType:null,success:!1,showModal:!1}},methods:{getAction:function(t){this.action=t,this.state="answer"},getAnswerType:function(t){this.answerType=t,this.state="selectNumber"},getExpression:function(){this.getFirstFactor(),this.getAnswers(),this.getSecondFactor(),this.getAnswerOptions(),this.state="expression"},setFirstFactorType:function(t){this.firstFactorType=t,this.getFirstFactor(),this.getExpression()},getFirstFactor:function(){"random"===this.firstFactorType?this.firstFactor=at(2,9):this.firstFactor=+this.firstFactorType},getSecondFactor:function(){"multiple"===this.action&&(this.secondFactor=at(2,9)),"divide"===this.action&&(this.secondFactor=this.answersArr[at(0,this.answersArr.length-1)]),this.prevFactors.includes(this.secondFactor)?this.getSecondFactor():(this.prevFactors.length<=5||this.prevFactors.pop(),this.prevFactors.unshift(this.secondFactor))},getAnswers:function(){var t=this;this.answersArr.length=0,this.numbers.forEach((function(e){var s=e.value*t.firstFactor;t.answersArr.push(s)}))},getAnswerOptions:function(){if("multiple"===this.action){this.answerOptArr.length=0;var t=nt(this.firstFactor,this.secondFactor);this.answerOptArr.push(t);while(this.answerOptArr.length<4){var e=at(1,10)*this.firstFactor;this.answerOptArr.includes(e)||this.answerOptArr.push(e)}}if("divide"===this.action){this.answerOptArr.length=0;var s=rt(this.secondFactor,this.firstFactor);this.answerOptArr.push(s);while(this.answerOptArr.length<4){var n=at(2,9);this.answerOptArr.includes(n)||this.answerOptArr.push(n)}}st(this.answerOptArr)},sendAnswer:function(t){t===this.rightAnswer()?(this.success=!0,this.count+=1):(this.recordErrors(t),this.count-=1,this.errorsCount+=1),this.success=t===this.rightAnswer(),this.state="result"},rightAnswer:function(){return"multiple"===this.action&&(this.answer=nt(this.firstFactor,this.secondFactor)),"divide"===this.action&&(this.answer=rt(this.secondFactor,this.firstFactor)),this.answer},changeOpt:function(){this.state="action",this.firstFactor=null,this.secondFactor=null,this.prevFactors.length=0,this.count=0,this.errorsCount=0,this.errorsArray=[]},recordErrors:function(t){var e={};"multiple"===this.action?(e.firstNum=this.secondFactor,e.secondNum=this.firstFactor,e.action="*",e.result=t):(e.firstNum=this.secondFactor,e.secondNum=this.firstFactor,e.action="/",e.result=t),this.errorsArray.push(e)},closeModal:function(){this.showModal=!1},openModal:function(){this.showModal=!0}}},bt=wt,gt=(s("5c0b"),Object(d["a"])(bt,a,i,!1,null,null,null)),yt=gt.exports;n["a"].config.productionTip=!1,n["a"].use(r["a"]),new n["a"]({render:function(t){return t(yt)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";s("9c0c")},"7be6":function(t,e,s){},9181:function(t,e,s){},"9c0c":function(t,e,s){},aada:function(t,e,s){"use strict";s("0e80")},af35:function(t,e,s){},b746:function(t,e,s){"use strict";s("e9b4")},c6ba:function(t,e,s){"use strict";s("4493")},d882:function(t,e,s){"use strict";s("7be6")},e5bd:function(t,e,s){"use strict";s("2837")},e9b4:function(t,e,s){},f502:function(t,e,s){},f5e2:function(t,e,s){"use strict";s("f502")},f692:function(t,e,s){"use strict";s("3532")}});
//# sourceMappingURL=app.3abbc5e2.js.map